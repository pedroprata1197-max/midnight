<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Midnight Beauty — Reserva</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f9f6f2;
      --card:#ffffff;
      --border:#e7e2dc;
      --text:#1d1c1c;
      --muted:#8b8179;
      --radius:16px;
      --maxw:1020px;
    }

    *{ box-sizing:border-box; }
    body{ margin:0; background:var(--bg); font-family:"Montserrat", sans-serif; color:var(--text); padding:20px; display:flex; justify-content:center; }

    .container{ width:100%; max-width:var(--maxw); background:#ffffffb5; border-radius:var(--radius); padding:26px; backdrop-filter:blur(8px); border:1px solid var(--border); }

    header{ display:flex; justify-content:space-between; align-items:center; padding-bottom:18px; border-bottom:1px solid var(--border); flex-wrap:wrap; gap:16px; }
    .brand{ font-family:"Playfair Display", serif; font-size:32px; font-weight:600; letter-spacing:1px; }
    nav a{ text-decoration:none; color:var(--text); font-weight:600; padding:8px 14px; border-radius:10px; transition:0.2s; }

    .layout{ margin-top:28px; display:grid; grid-template-columns:1fr 360px; gap:32px; }
    @media(max-width:900px){ .layout{ grid-template-columns:1fr; } }

    .hero h1{ font-family:"Playfair Display", serif; font-size:42px; margin:0 0 8px 0; font-weight:600; }
    .hero p{ margin:0; color:var(--muted); font-size:15px; }

    .services{ margin-top:24px; display:grid; gap:14px; }

    .service-card{ background:var(--card); padding:20px; border-radius:var(--radius); border:1px solid var(--border); cursor:pointer; transition:0.25s ease; }
    .service-card:hover{ transform:translateY(-4px); box-shadow:0 12px 26px rgba(0,0,0,0.05); }

    .service-row{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
    .service-title{ font-family:"Playfair Display", serif; font-size:20px; font-weight:500; }
    .service-meta{ color:var(--muted); font-size:13px; margin-top:6px; }

    .service-details{ max-height:0; overflow:hidden; opacity:0; transform:translateY(-6px); transition:0.34s ease; }
    .service-card.open .service-details{ max-height:360px; opacity:1; transform:translateY(0); margin-top:14px; }

    .cta-agendar{ margin-top:12px; padding:10px 14px; border-radius:12px; border:1px solid var(--text); background:transparent; font-weight:700; cursor:pointer; }

    .booking{ position:sticky; top:20px; background:var(--card); padding:20px; border-radius:var(--radius); border:1px solid var(--border); }
    .booking h3{ margin:0; font-family:"Playfair Display", serif; font-size:22px; padding-bottom:4px; }
    .booking label{ display:block; margin-top:14px; font-size:13px; color:var(--muted); }
    .booking input, .booking select{ width:100%; margin-top:6px; padding:12px; border-radius:12px; border:1px solid var(--border); font-size:14px; background:white; }
    .booking .btn{ margin-top:18px; width:100%; padding:14px; background:var(--text); color:white; border:none; font-weight:700; border-radius:14px; cursor:pointer; }
    .note{ margin-top:16px; color:var(--muted); font-size:13px; line-height:1.4; border-top:1px dashed rgba(0,0,0,0.06); padding-top:10px; }
    footer{ margin-top:26px; text-align:center; font-size:13px; color:var(--muted); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Midnight Beauty</div>
      <nav>
        <a href="#servicos">Serviços</a>
        <a href="#instagram">Instagram</a>
      </nav>
    </header>

    <div class="layout">
      <main>
        <section class="hero">
          <h1>Reserva Online</h1>
          <p>Escolhe um serviço, vê a descrição e agenda o teu horário.</p>
        </section>
        <section id="servicos" class="services"></section>
      </main>

      <aside class="booking">
        <h3>Agendar</h3>
        <label>Nome</label>
        <input id="bk-name" placeholder="Nome completo" required>
        <label>Email</label>
        <input id="bk-email" type="email" placeholder="Email" required>
        <label>WhatsApp</label>
        <input id="bk-contact" placeholder="Número de contacto" required>
        <label>Serviço</label>
        <select id="bk-service"><option value="">Seleciona serviço...</option></select>
        <label>Data</label>
        <input id="bk-date" type="date" required>
        <label>Hora</label>
        <input id="bk-time" type="time" required>
        <button id="bk-btn" class="btn">Pedir Reserva</button>
        <div class="note">
          Confirmação só após envio do sinal via MBWAY para <strong>914446025</strong>.
        </div>
      </aside>
    </div>
    <footer>
      IVA incluído. Política de cancelamento disponível no painel administrativo.
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const SERVICES = [
        {id:"classica", title:"1ª Aplicação Técnica Clássica", short:"Look natural e elegante.", desc:"Aplicação fio-a-fio, acabamento natural.", price:"40€"},
        {id:"volume_russo", title:"1ª Aplicação Volume Russo", short:"Volume e definição.", desc:"Leques para volume denso e leve.", price:"50€"},
        {id:"mega_volume", title:"1ª Aplicação Mega Volume", short:"Máxima densidade.", desc:"Volume extremo com leques ultra-finos.", price:"65€"},
        {id:"manut_classica", title:"Manutenção Clássica", short:"Retoques 2–4 semanas.", desc:"Manutenção após aplicação clássica.", price:"20€–35€"},
        {id:"manut_volume", title:"Manutenção Volume", short:"Retoques 2–4 semanas.", desc:"Manutenção de volume.", price:"25€–35€"},
        {id:"lifting", title:"Lifting de Pestanas", short:"Lift + opção botox.", desc:"Lifting com opção botox nutritivo.", price:"25€–35€"},
        {id:"sobrancelha", title:"Design de Sobrancelha", short:"Modelagem profissional.", desc:"Modelação de sobrancelhas.", price:"5€"}
      ];

      const servicesEl = document.getElementById("servicos");
      const serviceSelect = document.getElementById("bk-service");

      SERVICES.forEach(s => {
        const card = document.createElement("div");
        card.className = "service-card";
        card.innerHTML = `
          <div class="service-row">
            <div>
              <div class="service-title">${s.title}</div>
              <div class="service-meta">${s.short}</div>
            </div>
          </div>
          <div class="service-details">
            <div style="color:var(--muted); font-size:14px;">${s.desc}</div>
            <div style="margin-top:12px; font-weight:600; font-size:15px;">${s.price}</div>
            <button class="cta-agendar" data-id="${s.id}">Agendar este serviço</button>
          </div>`;

        card.querySelector('.cta-agendar').addEventListener('click', ev => {
          ev.stopPropagation();
          document.getElementById('bk-service').value = s.id;
          document.getElementById('bk-name').scrollIntoView({behavior:'smooth'});
        });

        card.addEventListener("click", () => {
          card.classList.toggle("open");
        });

        servicesEl.appendChild(card);

        let opt = document.createElement("option");
        opt.value = s.id;
        opt.textContent = s.title;
        serviceSelect.appendChild(opt);
      });

      document.getElementById('bk-btn').addEventListener('click', () => {
        const name = document.getElementById('bk-name').value.trim();
        const email = document.getElementById('bk-email').value.trim();
        const contact = document.getElementById('bk-contact').value.trim();
        const serviceId = document.getElementById('bk-service').value;
        const date = document.getElementById('bk-date').value;
        const time = document.getElementById('bk-time').value;

        if(!name || !email || !contact || !serviceId || !date || !time){
          alert('Preenche todos os campos.');
          return;
        }

        const booking = { id: Math.random().toString(36).slice(2,9), name, email, contact, service: serviceId, date, time, status:'pending', paid:false, createdAt: new Date().toISOString() };
        const arr = JSON.parse(localStorage.getItem('mb_bookings') || '[]');
        arr.unshift(booking);
        localStorage.setItem('mb_bookings', JSON.stringify(arr));

        alert('Pedido recebido! Envia o sinal via MBWAY para 914446025.');
      });
    });
  </script>
</body>
</html>

